{
  "documentationUrl": "https://docs.faros.ai",
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Google Drive Spec",
    "type": "object",
    "required": ["client_email", "private_key"],
    "additionalProperties": true,
    "properties": {
      "client_email": {
        "type": "string",
        "title": "Client Email",
        "description": "Google Drive API Client Email",
        "examples": ["service-account@project-id.iam.gserviceaccount.com"]
      },
      "private_key": {
        "type": "string",
        "title": "Private Key",
        "description": "Private Key for accessing Google Drive API and Google Admin Directory API",
        "airbyte_secret": true
      },
      "shared_drive_ids": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "title": "Shared Drive IDs",
        "description": "A list of Shared Drive IDs to query activities from. If empty, will query activities from the root drive (items/root). Each shared drive ID will generate activity queries with ancestorName = 'items/{shared_drive_id}'"
      },
      "include_personal_drives": {
        "type": "boolean",
        "title": "Include Personal Drives",
        "description": "Whether to include personal drives (user drives) in activity processing. If set to false, only shared drives specified in 'shared_drive_ids' will be processed. If set to true (default), activities from all workspace users' personal drives will be included along with any specified shared drives.",
        "default": true
      },
      "delegated_user": {
        "type": "string",
        "title": "Delegated User",
        "description": "Email of the user to impersonate when domain-wide delegation is enabled. If not specified, the client_email will be used."
      },
      "domain_wide_delegation": {
        "type": "boolean",
        "title": "Enable Domain-wide Delegation",
        "description": "This mode allows a service account to call APIs on behalf of users in a Google Workspace organization. Meaning that one service account can access all organization members' Drive activities and workspace users without extra configuration efforts. Must be a Google Workspace Admin to configure. Refer to this [link](https://developers.google.com/workspace/guides/create-credentials#optional_set_up_domain-wide_delegation_for_a_service_account) to know how to enable Domain-wide Delegation for the service account. Scopes required for delegation: https://www.googleapis.com/auth/drive.activity.readonly, https://www.googleapis.com/auth/admin.directory.user.readonly, https://www.googleapis.com/auth/admin.directory.customer.readonly",
        "default": false
      },
      "cutoff_days": {
        "type": "integer",
        "title": "Cutoff Days",
        "default": 90,
        "minimum": 1,
        "description": "Fetch activities within the specified number of days"
      }
    }
  }
}
