// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`faros_gitlab process records from all streams 1`] = `
Array [
  "Processed 13 records",
  "Processed records by stream: {\\\\\\"mytestsource__gitlab__faros_commits\\\\\\":2,\\\\\\"mytestsource__gitlab__faros_deployments\\\\\\":3,\\\\\\"mytestsource__gitlab__faros_groups\\\\\\":1,\\\\\\"mytestsource__gitlab__faros_issues\\\\\\":1,\\\\\\"mytestsource__gitlab__faros_merge_request_reviews\\\\\\":1,\\\\\\"mytestsource__gitlab__faros_merge_requests\\\\\\":1,\\\\\\"mytestsource__gitlab__faros_projects\\\\\\":1,\\\\\\"mytestsource__gitlab__faros_releases\\\\\\":1,\\\\\\"mytestsource__gitlab__faros_tags\\\\\\":1,\\\\\\"mytestsource__gitlab__faros_users\\\\\\":1}\\"},\\"type\\":\\"LOG\\"}",
  "Would write 46 records",
  "Would write records by model: {\\\\\\"cicd_Artifact\\\\\\":2,\\\\\\"cicd_ArtifactCommitAssociation\\\\\\":2,\\\\\\"cicd_ArtifactDeployment\\\\\\":2,\\\\\\"cicd_Build\\\\\\":2,\\\\\\"cicd_BuildCommitAssociation\\\\\\":2,\\\\\\"cicd_Deployment\\\\\\":3,\\\\\\"cicd_Organization\\\\\\":1,\\\\\\"cicd_Pipeline\\\\\\":1,\\\\\\"cicd_Release\\\\\\":1,\\\\\\"cicd_ReleaseTagAssociation\\\\\\":1,\\\\\\"compute_Application\\\\\\":4,\\\\\\"faros_VcsRepositoryOptions\\\\\\":1,\\\\\\"tms_Label\\\\\\":1,\\\\\\"tms_Project\\\\\\":1,\\\\\\"tms_Task\\\\\\":1,\\\\\\"tms_TaskAssignment\\\\\\":1,\\\\\\"tms_TaskBoard\\\\\\":1,\\\\\\"tms_TaskBoardProjectRelationship\\\\\\":1,\\\\\\"tms_TaskBoardRelationship\\\\\\":1,\\\\\\"tms_TaskProjectRelationship\\\\\\":1,\\\\\\"tms_TaskTag\\\\\\":1,\\\\\\"vcs_Commit\\\\\\":2,\\\\\\"vcs_Label\\\\\\":1,\\\\\\"vcs_Membership\\\\\\":1,\\\\\\"vcs_Organization\\\\\\":1,\\\\\\"vcs_PullRequest\\\\\\":1,\\\\\\"vcs_PullRequestComment\\\\\\":2,\\\\\\"vcs_PullRequestLabel\\\\\\":1,\\\\\\"vcs_PullRequestReview\\\\\\":3,\\\\\\"vcs_Repository\\\\\\":1,\\\\\\"vcs_Tag\\\\\\":1,\\\\\\"vcs_User\\\\\\":1}\\"},\\"type\\":\\"LOG\\"}",
  "Skipped 0 records",
  "Errored 0 records",
]
`;

exports[`faros_gitlab process records from all streams 2`] = `
Array [
  Object {
    "vcs_Organization": Object {
      "createdAt": "2021-06-11T22:27:18.521Z",
      "htmlUrl": "https://gitlab.com/groups/farosai",
      "name": "farosai",
      "source": "GitLab",
      "type": Object {
        "category": "Group",
        "detail": "Group",
      },
      "uid": "12372707",
    },
  },
  Object {
    "cicd_Organization": Object {
      "description": "",
      "name": "farosai",
      "source": "GitLab",
      "uid": "12372707",
      "url": "https://gitlab.com/groups/farosai",
    },
  },
  Object {
    "vcs_Repository": Object {
      "archived": false,
      "createdAt": "2022-10-19T16:40:22.162Z",
      "description": "Test project for FarosCE GitLab integration",
      "fullName": "farosai/farosce-test",
      "htmlUrl": "https://gitlab.com/farosai/farosce-test",
      "mainBranch": "master",
      "name": "farosce-test",
      "organization": Object {
        "source": "GitLab",
        "uid": "12372707",
      },
      "private": true,
      "source": "GitLab",
      "uid": "farosce-test",
      "updatedAt": "2024-10-15T18:38:58.340Z",
    },
  },
  Object {
    "tms_Project": Object {
      "createdAt": "2022-10-19T16:40:22.162Z",
      "description": "Test project for FarosCE GitLab integration",
      "name": "FarosCE test",
      "source": "GitLab",
      "uid": "12372707/farosce-test",
      "updatedAt": "2024-10-15T18:38:58.340Z",
    },
  },
  Object {
    "tms_TaskBoard": Object {
      "name": "FarosCE test",
      "source": "GitLab",
      "uid": "12372707/farosce-test",
    },
  },
  Object {
    "tms_TaskBoardProjectRelationship": Object {
      "board": Object {
        "source": "GitLab",
        "uid": "12372707/farosce-test",
      },
      "project": Object {
        "source": "GitLab",
        "uid": "12372707/farosce-test",
      },
      "source": "GitLab",
    },
  },
  Object {
    "cicd_Pipeline": Object {
      "description": "Test project for FarosCE GitLab integration",
      "name": "FarosCE test",
      "organization": Object {
        "source": "GitLab",
        "uid": "12372707",
      },
      "source": "GitLab",
      "uid": "farosce-test",
      "url": "https://gitlab.com/farosai/farosce-test",
    },
  },
  Object {
    "compute_Application": Object {
      "displayName": "FarosCE test",
      "included": true,
      "name": "farosce-test",
      "platform": "GitLab",
      "source": "GitLab",
    },
  },
  Object {
    "faros_VcsRepositoryOptions": Object {
      "inclusion": Object {
        "category": "Included",
      },
      "repository": Object {
        "name": "farosce-test",
        "organization": Object {
          "source": "GitLab",
          "uid": "12372707",
        },
        "uid": "farosce-test",
      },
      "source": "GitLab",
    },
  },
  Object {
    "vcs_Membership": Object {
      "organization": Object {
        "source": "GitLab",
        "uid": "12372707",
      },
      "source": "GitLab",
      "user": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
    },
  },
  Object {
    "vcs_User": Object {
      "htmlUrl": "https://gitlab.com/ypc-faros",
      "name": "Yandry Perez",
      "source": "GitLab",
      "type": Object {
        "category": "User",
        "detail": "user",
      },
      "uid": "ypc-faros",
    },
  },
  Object {
    "vcs_Tag": Object {
      "commit": Object {
        "repository": Object {
          "name": "faros-events-cli",
          "organization": Object {
            "source": "GitLab",
            "uid": "12372707",
          },
          "uid": "faros-events-cli",
        },
        "sha": "06a959fe1025f8eaa8ca7a6db1ac812ef1116e6d",
        "uid": "06a959fe1025f8eaa8ca7a6db1ac812ef1116e6d",
      },
      "message": "Release version 0.4.0",
      "name": "v0.4.0",
      "repository": Object {
        "name": "faros-events-cli",
        "organization": Object {
          "source": "GitLab",
          "uid": "12372707",
        },
        "uid": "faros-events-cli",
      },
      "source": "GitLab",
    },
  },
  Object {
    "vcs_Commit": Object {
      "author": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
      "createdAt": "2025-06-04T18:12:02.000Z",
      "htmlUrl": "https://gitlab.com/farosai/testy/-/commit/8617223c1e31c8454c65c397b54bac653c32c3f4",
      "message": "ypc test commit 1",
      "repository": Object {
        "name": "testy",
        "organization": Object {
          "source": "GitLab",
          "uid": "12372707",
        },
        "uid": "testy",
      },
      "sha": "8617223c1e31c8454c65c397b54bac653c32c3f4",
      "source": "GitLab",
      "uid": "8617223c1e31c8454c65c397b54bac653c32c3f4",
    },
  },
  Object {
    "vcs_Commit": Object {
      "author": null,
      "createdAt": "2025-06-05T10:30:00.000Z",
      "htmlUrl": "https://gitlab.com/farosai/testy/-/commit/123456789abcdef123456789abcdef1234567890",
      "message": "This commit has no resolved author username",
      "repository": Object {
        "name": "testy",
        "organization": Object {
          "source": "GitLab",
          "uid": "12372707",
        },
        "uid": "testy",
      },
      "sha": "123456789abcdef123456789abcdef1234567890",
      "source": "GitLab",
      "uid": "123456789abcdef123456789abcdef1234567890",
    },
  },
  Object {
    "vcs_PullRequest": Object {
      "author": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
      "commentCount": 2,
      "commitCount": 1,
      "createdAt": "2025-06-13T00:58:27.000Z",
      "diffStats": Object {
        "filesChanged": 1,
        "linesAdded": 1,
        "linesDeleted": 0,
      },
      "htmlUrl": "https://gitlab.com/farosai/testy/-/merge_requests/3",
      "mergeCommit": null,
      "mergedAt": null,
      "number": 3,
      "repository": Object {
        "name": "testy",
        "organization": Object {
          "source": "GitLab",
          "uid": "12372707",
        },
        "uid": "testy",
      },
      "source": "GitLab",
      "state": Object {
        "category": "Open",
        "detail": "opened",
      },
      "title": "test MR",
      "uid": "3",
      "updatedAt": "2025-06-13T01:52:18.000Z",
    },
  },
  Object {
    "vcs_PullRequestComment": Object {
      "author": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
      "comment": "This is a comment on the MR",
      "createdAt": "2025-06-13T01:49:10.000Z",
      "number": 2559908301,
      "pullRequest": Object {
        "number": 3,
        "repository": Object {
          "name": "testy",
          "organization": Object {
            "source": "GitLab",
            "uid": "12372707",
          },
          "uid": "testy",
        },
        "uid": "3",
      },
      "source": "GitLab",
      "uid": "gid://gitlab/Note/2559908301",
      "updatedAt": "2025-06-13T01:49:10.000Z",
    },
  },
  Object {
    "vcs_PullRequestReview": Object {
      "htmlUrl": null,
      "number": 1749779350000,
      "pullRequest": Object {
        "number": 3,
        "repository": Object {
          "name": "testy",
          "organization": Object {
            "source": "GitLab",
            "uid": "12372707",
          },
          "uid": "testy",
        },
        "uid": "3",
      },
      "reviewer": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
      "source": "GitLab",
      "state": Object {
        "category": "Commented",
        "detail": "commented",
      },
      "submittedAt": "2025-06-13T01:49:10.000Z",
      "uid": "1749779350000",
    },
  },
  Object {
    "vcs_PullRequestComment": Object {
      "author": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
      "comment": "This is a comment on the diff",
      "createdAt": "2025-06-13T01:49:55.000Z",
      "number": 2559908669,
      "pullRequest": Object {
        "number": 3,
        "repository": Object {
          "name": "testy",
          "organization": Object {
            "source": "GitLab",
            "uid": "12372707",
          },
          "uid": "testy",
        },
        "uid": "3",
      },
      "source": "GitLab",
      "uid": "gid://gitlab/DiffNote/2559908669",
      "updatedAt": "2025-06-13T01:49:55.000Z",
    },
  },
  Object {
    "vcs_PullRequestReview": Object {
      "htmlUrl": null,
      "number": 1749779395000,
      "pullRequest": Object {
        "number": 3,
        "repository": Object {
          "name": "testy",
          "organization": Object {
            "source": "GitLab",
            "uid": "12372707",
          },
          "uid": "testy",
        },
        "uid": "3",
      },
      "reviewer": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
      "source": "GitLab",
      "state": Object {
        "category": "Commented",
        "detail": "commented",
      },
      "submittedAt": "2025-06-13T01:49:55.000Z",
      "uid": "1749779395000",
    },
  },
  Object {
    "vcs_Label": Object {
      "name": "l2",
      "source": "GitLab",
    },
  },
  Object {
    "vcs_PullRequestLabel": Object {
      "label": Object {
        "name": "l2",
      },
      "pullRequest": Object {
        "number": 3,
        "repository": Object {
          "name": "testy",
          "organization": Object {
            "source": "GitLab",
            "uid": "12372707",
          },
          "uid": "testy",
        },
        "uid": "3",
      },
      "source": "GitLab",
    },
  },
  Object {
    "tms_TaskAssignment": Object {
      "assignee": Object {
        "source": "GitLab",
        "uid": "test-assignee",
      },
      "source": "GitLab",
      "task": Object {
        "source": "GitLab",
        "uid": "168781674",
      },
    },
  },
  Object {
    "tms_Label": Object {
      "name": "l1",
      "source": "GitLab",
    },
  },
  Object {
    "tms_TaskTag": Object {
      "label": Object {
        "name": "l1",
      },
      "source": "GitLab",
      "task": Object {
        "source": "GitLab",
        "uid": "168781674",
      },
    },
  },
  Object {
    "tms_Task": Object {
      "createdAt": "2025-06-12T00:42:24.388Z",
      "creator": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
      "description": "There's something clearly broken",
      "name": "Test issue",
      "source": "GitLab",
      "status": Object {
        "category": "Todo",
        "detail": "opened",
      },
      "uid": "168781674",
      "updatedAt": "2025-06-12T00:42:48.083Z",
    },
  },
  Object {
    "tms_TaskProjectRelationship": Object {
      "project": Object {
        "source": "GitLab",
        "uid": "12372707/testy",
      },
      "source": "GitLab",
      "task": Object {
        "source": "GitLab",
        "uid": "168781674",
      },
    },
  },
  Object {
    "tms_TaskBoardRelationship": Object {
      "board": Object {
        "source": "GitLab",
        "uid": "12372707/testy",
      },
      "source": "GitLab",
      "task": Object {
        "source": "GitLab",
        "uid": "168781674",
      },
    },
  },
  Object {
    "vcs_PullRequestReview": Object {
      "htmlUrl": null,
      "number": 4346114969,
      "pullRequest": Object {
        "number": 3,
        "repository": Object {
          "name": "testy",
          "organization": Object {
            "source": "GitLab",
            "uid": "12372707",
          },
          "uid": "testy",
        },
        "uid": "3",
      },
      "reviewer": Object {
        "source": "GitLab",
        "uid": "ypc-faros",
      },
      "source": "GitLab",
      "state": Object {
        "category": "Approved",
        "detail": "approved",
      },
      "submittedAt": "2025-06-13T01:52:18.939Z",
      "uid": "4346114969",
    },
  },
  Object {
    "cicd_Release": Object {
      "author": Object {
        "source": "GitLab",
        "uid": "john-doe",
      },
      "createdAt": "2024-01-15T10:30:45.123Z",
      "description": "Minor release with bug fixes and performance improvements",
      "name": "Release 2.1.0",
      "releasedAt": "2024-01-15T14:22:30.456Z",
      "source": "GitLab",
      "uid": "backend-services/v2.1.0",
      "url": "https://gitlab.example.com/acme-corp/web-platform/backend-services/-/releases/v2.1.0",
    },
  },
  Object {
    "cicd_ReleaseTagAssociation": Object {
      "release": Object {
        "source": "GitLab",
        "uid": "backend-services/v2.1.0",
      },
      "source": "GitLab",
      "tag": Object {
        "name": "v2.1.0",
        "repository": Object {
          "name": "backend-services",
          "organization": Object {
            "source": "GitLab",
            "uid": "42",
          },
          "uid": "backend-services",
        },
      },
    },
  },
  Object {
    "compute_Application": Object {
      "name": "group/subgroup/project",
      "platform": "GitLab",
      "source": "GitLab",
    },
  },
  Object {
    "cicd_Build": Object {
      "createdAt": "2023-07-03T09:10:08.234Z",
      "endedAt": "2023-07-03T09:11:04.805Z",
      "name": "deploy-job",
      "number": 2001,
      "pipeline": Object {
        "organization": Object {
          "source": "GitLab",
          "uid": "1001",
        },
        "uid": "group/subgroup/project",
      },
      "source": "GitLab",
      "startedAt": "2023-07-03T09:10:23.323Z",
      "status": Object {
        "category": "Success",
        "detail": "success",
      },
      "uid": "2001",
      "url": "https://gitlab.example.com/group/subgroup/project/-/jobs/2001",
    },
  },
  Object {
    "cicd_BuildCommitAssociation": Object {
      "build": Object {
        "pipeline": Object {
          "organization": Object {
            "source": "GitLab",
            "uid": "1001",
          },
          "uid": "group/subgroup/project",
        },
        "uid": "2001",
      },
      "commit": Object {
        "repository": Object {
          "name": "group/subgroup/project",
          "organization": Object {
            "source": "GitLab",
            "uid": "1001",
          },
          "uid": "group/subgroup/project",
        },
        "sha": "abc123def456789012345678901234567890abcd",
        "uid": "abc123def456789012345678901234567890abcd",
      },
      "source": "GitLab",
    },
  },
  Object {
    "cicd_Deployment": Object {
      "application": Object {
        "name": "group/subgroup/project",
        "platform": "GitLab",
        "source": "GitLab",
      },
      "build": Object {
        "pipeline": Object {
          "organization": Object {
            "source": "GitLab",
            "uid": "1001",
          },
          "uid": "group/subgroup/project",
        },
        "uid": "2001",
      },
      "endedAt": "2023-07-03T09:11:04.805Z",
      "env": Object {
        "category": "Prod",
        "detail": "production",
      },
      "requestedAt": "2023-07-03T09:10:08.691Z",
      "source": "GitLab",
      "startedAt": "2023-07-03T09:10:23.323Z",
      "status": Object {
        "category": "Success",
        "detail": "success",
      },
      "uid": "101",
      "url": "https://gitlab.example.com/group/subgroup/project/-/jobs/2001",
    },
  },
  Object {
    "cicd_Artifact": Object {
      "createdAt": "2023-07-03T09:11:04.805Z",
      "name": "artifacts.zip",
      "source": "GitLab",
      "type": "archive",
      "uid": "2001-artifacts.zip",
    },
  },
  Object {
    "cicd_ArtifactCommitAssociation": Object {
      "artifact": Object {
        "source": "GitLab",
        "uid": "2001-artifacts.zip",
      },
      "commit": Object {
        "repository": Object {
          "name": "group/subgroup/project",
          "organization": Object {
            "source": "GitLab",
            "uid": "1001",
          },
          "uid": "group/subgroup/project",
        },
        "sha": "abc123def456789012345678901234567890abcd",
        "uid": "abc123def456789012345678901234567890abcd",
      },
      "source": "GitLab",
    },
  },
  Object {
    "cicd_ArtifactDeployment": Object {
      "artifact": Object {
        "source": "GitLab",
        "uid": "2001-artifacts.zip",
      },
      "deployment": Object {
        "source": "GitLab",
        "uid": "101",
      },
      "source": "GitLab",
    },
  },
  Object {
    "cicd_Artifact": Object {
      "createdAt": "2023-07-03T09:11:04.805Z",
      "name": "job.log",
      "source": "GitLab",
      "type": "trace",
      "uid": "2001-job.log",
    },
  },
  Object {
    "cicd_ArtifactCommitAssociation": Object {
      "artifact": Object {
        "source": "GitLab",
        "uid": "2001-job.log",
      },
      "commit": Object {
        "repository": Object {
          "name": "group/subgroup/project",
          "organization": Object {
            "source": "GitLab",
            "uid": "1001",
          },
          "uid": "group/subgroup/project",
        },
        "sha": "abc123def456789012345678901234567890abcd",
        "uid": "abc123def456789012345678901234567890abcd",
      },
      "source": "GitLab",
    },
  },
  Object {
    "cicd_ArtifactDeployment": Object {
      "artifact": Object {
        "source": "GitLab",
        "uid": "2001-job.log",
      },
      "deployment": Object {
        "source": "GitLab",
        "uid": "101",
      },
      "source": "GitLab",
    },
  },
  Object {
    "compute_Application": Object {
      "name": "group/subgroup/project",
      "platform": "GitLab",
      "source": "GitLab",
    },
  },
  Object {
    "cicd_Build": Object {
      "createdAt": "2023-07-04T10:15:00.000Z",
      "endedAt": "2023-07-04T10:20:00.000Z",
      "name": "deploy-staging",
      "number": 2002,
      "pipeline": Object {
        "organization": Object {
          "source": "GitLab",
          "uid": "1001",
        },
        "uid": "group/subgroup/project",
      },
      "source": "GitLab",
      "startedAt": "2023-07-04T10:15:30.000Z",
      "status": Object {
        "category": "Failed",
        "detail": "failed",
      },
      "uid": "2002",
      "url": "https://gitlab.example.com/group/subgroup/project/-/jobs/2002",
    },
  },
  Object {
    "cicd_BuildCommitAssociation": Object {
      "build": Object {
        "pipeline": Object {
          "organization": Object {
            "source": "GitLab",
            "uid": "1001",
          },
          "uid": "group/subgroup/project",
        },
        "uid": "2002",
      },
      "commit": Object {
        "repository": Object {
          "name": "group/subgroup/project",
          "organization": Object {
            "source": "GitLab",
            "uid": "1001",
          },
          "uid": "group/subgroup/project",
        },
        "sha": "def456abc789012345678901234567890abcdef",
        "uid": "def456abc789012345678901234567890abcdef",
      },
      "source": "GitLab",
    },
  },
  Object {
    "cicd_Deployment": Object {
      "application": Object {
        "name": "group/subgroup/project",
        "platform": "GitLab",
        "source": "GitLab",
      },
      "build": Object {
        "pipeline": Object {
          "organization": Object {
            "source": "GitLab",
            "uid": "1001",
          },
          "uid": "group/subgroup/project",
        },
        "uid": "2002",
      },
      "endedAt": "2023-07-04T10:20:00.000Z",
      "env": Object {
        "category": "Staging",
        "detail": "staging",
      },
      "requestedAt": "2023-07-04T10:15:00.000Z",
      "source": "GitLab",
      "startedAt": "2023-07-04T10:15:30.000Z",
      "status": Object {
        "category": "Failed",
        "detail": "failed",
      },
      "uid": "102",
      "url": "https://gitlab.example.com/group/subgroup/project/-/jobs/2002",
    },
  },
  Object {
    "compute_Application": Object {
      "name": "another-group/another-project",
      "platform": "GitLab",
      "source": "GitLab",
    },
  },
  Object {
    "cicd_Deployment": Object {
      "application": Object {
        "name": "another-group/another-project",
        "platform": "GitLab",
        "source": "GitLab",
      },
      "build": null,
      "endedAt": null,
      "env": Object {
        "category": "Dev",
        "detail": "development",
      },
      "requestedAt": "2023-07-05T15:30:00.000Z",
      "source": "GitLab",
      "startedAt": "2023-07-05T15:30:00.000Z",
      "status": Object {
        "category": "Running",
        "detail": "running",
      },
      "uid": "103",
      "url": null,
    },
  },
]
`;
