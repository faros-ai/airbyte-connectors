{
  "documentationUrl": "https://docs.faros.ai",
  "supportsIncremental": true,
  "supportsNormalization": false,
  "supportsDBT": true,
  "supported_destination_sync_modes": ["overwrite", "append", "append_dedup"],
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Faros Destination Spec",
    "type": "object",
    "required": ["edition_configs"],
    "additionalProperties": true,
    "properties": {
      "edition_configs": {
        "order": 0,
        "title": "Faros Edition",
        "description": "Choose your Faros Edition.",
        "type": "object",
        "oneOf": [
          {
            "$ref": "community.json"
          },
          {
            "$ref": "cloud.json"
          }
        ]
      },
      "origin": {
        "order": 1,
        "type": "string",
        "title": "Origin name",
        "description": "The Faros origin name used for uploaded entries. Must be unique.",
        "examples": ["my-faros-destination"]
      },
      "accept_input_records_origin": {
        "order": 2,
        "type": "boolean",
        "title": "Accept input records origin",
        "description": "Whether to accept the origin field (if present) of input records. If enabled, the input records origin will only be changed according to the replacements specified by 'Replace Records Origin'. Otherwise, the input records origin are ignored and overwritten.",
        "default": false
      },
      "replace_origin_map": {
        "order": 3,
        "type": "string",
        "title": "Replace Records Origin",
        "description": "JSON map to replace records origin values, where each entry (origin1, origin2) indicates that the output records' origin property should be replaced from 'origin1' by 'origin2'",
        "multiline": true,
        "default": "{}",
        "examples": [
          "{ \"originA\": \"originB\" }"
        ]
      },
      "dry_run": {
        "order": 4,
        "type": "boolean",
        "title": "Dry run",
        "description": "Process all input records but avoid writing into Faros API",
        "default": false
      },
      "invalid_record_strategy": {
        "order": 5,
        "type": "string",
        "title": "Invalid record strategy",
        "description": "Strategy to follow to handle an invalid input record.",
        "default": "SKIP",
        "enum": ["FAIL", "SKIP"]
      },
      "jsonata_expression": {
        "order": 6,
        "type": "string",
        "title": "JSONata expression",
        "description": "JSONata expression for converting input records. If provided applies the expression based on specified JSONata apply mode.",
        "multiline": true
      },
      "jsonata_mode": {
        "order": 7,
        "type": "string",
        "title": "JSONata apply mode",
        "description": "JSONata apply mode when converting input records.",
        "default": "FALLBACK",
        "enum": ["FALLBACK", "OVERRIDE"]
      },
      "jsonata_destination_models": {
        "order": 8,
        "type": "array",
        "items": {
          "type": "string"
        },
        "title": "JSONata destination models",
        "description": "Destination models when using JSONata expression. If '*' is provided we assume that all models are being modified.",
        "examples": ["ims_Incident", "vcs_Commit"]
      },
      "source_specific_configs": {
        "$ref": "source-specific-configs.json"
      },
      "keep_alive": {
        "order": 10,
        "type": "boolean",
        "title": "HTTP Keep Alive",
        "description": "Should keep connection between client and server alive",
        "default": false
      }
    }
  }
}
